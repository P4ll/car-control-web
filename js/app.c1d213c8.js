(function(e){function t(t){for(var o,r,a=t[0],l=t[1],c=t[2],p=0,d=[];p<a.length;p++)r=a[p],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);u&&u(t);while(d.length)d.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],o=!0,a=1;a<s.length;a++){var l=s[a];0!==i[l]&&(o=!1)}o&&(n.splice(t--,1),e=r(r.s=s[0]))}return e}var o={},i={app:0},n=[];function r(t){if(o[t])return o[t].exports;var s=o[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=o,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(s,o,function(t){return e[t]}.bind(null,o));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var u=l;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var o=s("b3c3"),i=s.n(o);i.a},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var o=s("2b0e"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-layout",{attrs:{view:"lHh Lpr lFf"}},[s("q-page-container",[e.isNotConnected?s("q-page",{staticClass:"flex flex-center"},[s("q-list",[s("q-item-label",{attrs:{header:""}},[e._v("Данные о подключении")]),s("q-item",[s("q-input",{attrs:{label:"IP",filled:"",placeholder:"192.168.0.X"},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-avatar",[s("img",{attrs:{src:"https://cdn.quasar.dev/logo/svg/quasar-logo.svg"}})])]},proxy:!0}],null,!1,3044375922),model:{value:e.ipText,callback:function(t){e.ipText=t},expression:"ipText"}})],1),s("q-item",[s("q-input",{attrs:{label:"Port",filled:"",placeholder:"8765"},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-avatar",[s("img",{attrs:{src:"https://cdn.quasar.dev/logo/svg/quasar-logo.svg"}})])]},proxy:!0}],null,!1,3044375922),model:{value:e.portText,callback:function(t){e.portText=t},expression:"portText"}})],1),s("q-item",[s("q-btn",{attrs:{label:"Подключиться"},on:{click:e.checkData}})],1)],1)],1):s("q-page",{staticClass:"flex flex-center"},[s("q-header",{staticClass:"glossy",attrs:{elevated:""}},[s("q-toolbar",{staticClass:"bg-primary text-white"},[s("q-btn",{attrs:{flat:"",dense:"",round:"","aria-label":"Menu",icon:"menu"},on:{click:function(t){e.leftDrawerOpen=!e.leftDrawerOpen}}}),s("q-toolbar-title",{attrs:{center:""}},[e._v("Панель настроек")])],1)],1),s("q-drawer",{attrs:{"show-if-above":"",bordered:"","content-class":"bg-grey-2"},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[s("q-list",[s("q-item-label",{attrs:{header:""}},[e._v("Настройки")]),s("q-item",{attrs:{clickable:""}},[s("q-item-section",{attrs:{avatar:""}},[s("toggle-button",{model:{value:e.useML,callback:function(t){e.useML=t},expression:"useML"}})],1),s("q-item-section",{model:{value:e.keyUpPressed,callback:function(t){e.keyUpPressed=t},expression:"keyUpPressed"}},[e._v("Распознавание лиц")])],1),s("q-item",{attrs:{clickable:""}},[s("q-item-section",{attrs:{avatar:""}},[s("toggle-button",{model:{value:e.usePID,callback:function(t){e.usePID=t},expression:"usePID"}})],1),s("q-item-section",[e._v("ПИД")])],1),s("q-item",[s("q-btn",{attrs:{label:"Ввести новые данные о подключении"},on:{click:e.getBackToSetting}})],1)],1)],1),s("q-page",{staticClass:"flex flex-center"},[s("q-list",[s("q-item",[s("img",{staticClass:"img-m",attrs:{src:e.mainImg}})]),s("q-item",[s("q-item-section",{staticClass:"arrow"},[s("div",{staticClass:"arrow arrow-holder"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"}),s("div",{staticClass:"col"},[s("q-btn",{staticClass:"arrow arrow-up",attrs:{round:"",color:e.upCol,icon:"navigation"}})],1),s("div",{staticClass:"col"})]),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("q-btn",{staticClass:"arrow arrow-right",attrs:{round:"",color:e.leftCol,icon:"navigation"}})],1),s("div",{staticClass:"col"},[s("q-btn",{staticClass:"arrow arrow-down",attrs:{round:"",color:e.downCol,icon:"navigation"}})],1),s("div",{staticClass:"col"},[s("q-btn",{staticClass:"arrow arrow-left",attrs:{round:"",color:e.rightCol,icon:"navigation"}})],1)])])])],1)],1)],1)],1)],1)],1)},n=[],r=(s("4d63"),s("ac1f"),s("25f0"),s("f206")),a={name:"LayoutDefault",components:{ToggleButton:r["ToggleButton"]},beforeMount:function(){document.title="Панель управления"},mounted:function(){this.upCol=this.passiveCol,this.downCol=this.passiveCol,this.rightCol=this.passiveCol,this.leftCol=this.passiveCol},data:function(){return{intervalId:null,leftDrawerOpen:!1,isNotConnected:!0,ipText:"127.0.0.1",portText:"8765",useML:!1,usePID:!1,socket:null,mainImg:"",keyUpPressed:!1,keyDownPressed:!1,keyLeftPressed:!1,keyRightPressed:!1,activeCol:"blue",passiveCol:"grey",upCol:this.passiveCol,downCol:this.passiveCol,rightCol:this.passiveCol,leftCol:this.passiveCol}},methods:{getBackToSetting:function(){this.socket.close()},showNegNotify:function(e){this.$q.notify({type:"negative",message:e})},checkData:function(){var e=RegExp("^[0-9]{1,3}[.][0-9]{1,3}[.][0-9]{1,3}[.][0-9]{1,3}$"),t=RegExp("^[0-9]{1,4}$");e.test(this.ipText)&&t.test(this.portText)?this.socketSetting():this.showNegNotify("Данные были введены неверно")},keyDown:function(e){"ArrowUp"==e.key?(this.keyUpPressed=!0,this.upCol=this.activeCol):"ArrowDown"==e.key?(this.keyDownPressed=!0,this.downCol=this.activeCol):"ArrowRight"==e.key?(this.keyRightPressed=!0,this.rightCol=this.activeCol):"ArrowLeft"==e.key&&(this.keyLeftPressed=!0,this.leftCol=this.activeCol)},keyUp:function(e){"ArrowUp"==e.key?(this.keyUpPressed=!1,this.upCol=this.passiveCol):"ArrowDown"==e.key?(this.keyDownPressed=!1,this.downCol=this.passiveCol):"ArrowRight"==e.key?(this.keyRightPressed=!1,this.rightCol=this.passiveCol):"ArrowLeft"==e.key&&(this.keyLeftPressed=!1,this.leftCol=this.passiveCol)},socketSetting:function(){var e=this;try{this.socket=new WebSocket("ws://"+this.ipText+":"+this.portText),this.socket.onopen=function(){e.isNotConnected=!1,window.addEventListener("keydown",e.keyDown),window.addEventListener("keyup",e.keyUp),e.intervalId=setInterval(e.sendingMessage,100)},this.socket.onmessage=function(t){e.mainImg="data:image/jpg;base64, "+t.data},this.socket.onclose=function(){window.removeEventListener("keydown",e.keyDown),window.removeEventListener("keyup",e.keyUp),clearInterval(e.intervalId),e.isNotConnected=!0,e.showNegNotify("Соединение закрыто")},this.socket.onerror=function(){e.showNegNotify("Ошибка соединения"),e.isNotConnected=!0,clearInterval(e.intervalId)}}catch(t){this.showNegNotify("Ошибка соединения, проверьте правильность введенных данных")}},sendingMessage:function(){var e=0,t=0,s="";this.keyUpPressed&&(t=1,e=1),this.keyDownPressed&&(t=-1,e=-1),this.keyLeftPressed&&(e=1),this.keyRightPressed&&(t=1),s=t+" "+e+" ",this.usePID?s+=1:s+=0,this.useML?s+=" 1":s+=" 0",this.socket.send(s)}}},l=a,c=(s("034f"),s("2877")),u=s("fe09"),p=Object(c["a"])(l,i,n,!1,null,null,null),d=p.exports;p.options.components=Object.assign({QLayout:u["i"],QPageContainer:u["l"],QPage:u["k"],QList:u["j"],QItemLabel:u["g"],QItem:u["f"],QInput:u["e"],QAvatar:u["a"],QBtn:u["b"],QHeader:u["d"],QToolbar:u["m"],QToolbarTitle:u["n"],QDrawer:u["c"],QItemSection:u["h"]},p.options.components||{});s("c867"),s("e54f"),s("573e"),s("35fc"),s("1194"),s("43b9");var f=s("b05d"),h=s("2a19");o["a"].use(f["a"],{config:{},components:{},directives:{},plugins:{Notify:h["a"]}}),o["a"].config.productionTip=!1,new o["a"]({render:function(e){return e(d)}}).$mount("#app")},b3c3:function(e,t,s){},c867:function(e,t,s){}});
//# sourceMappingURL=app.c1d213c8.js.map